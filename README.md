# 围棋教学游戏 Pro 🎮♟️

> **工业级围棋对弈系统** - 专业教学 + 精确规则 + 极致体验

一个具有强大教学功能的围棋对弈游戏，AI会在每一步后解释它的思考过程，帮助玩家学习围棋策略。

---

## ✨ 核心特性

### 🎮 专业对弈
- **精确围棋规则引擎** - 完全符合中国围棋规则
  - ✅ 精确的气数计算
  - ✅ 准确的提子判断
  - ✅ 打劫规则处理
  - ✅ 禁入点检测
  - ✅ 虚着功能

### 🧠 AI教学系统
- **智能AI对手** - 多难度级别，适合各水平玩家
- **实时教学解释** - 每一步都有详细解析
- **局势分析** - 一键分析当前盘面
  - 双方实力对比
  - 领地分布
  - 战术建议
  - 游戏阶段判断

### 📊 完善的辅助功能
- **落子日志** - 详细记录每步棋
  - 围棋坐标标记（A1-T19）
  - 提子数统计
  - 完整对局记录
- **棋盘坐标** - 专业标记系统
  - 横向：数字 1-19
  - 纵向：字母 A-T（跳过I）
- **音效反馈** - 沉浸式音效
  - 落子音效
  - 提子音效
  - 游戏结束音效

### 🎨 现代化界面
- **专业图标系统** - Font Awesome 6.5.1
- **现代蓝色主题** - 简洁大气
- **响应式设计** - 完美适配手机/平板/电脑
- **流畅交互** - 异步落子，无卡顿

### ⚡ 高性能架构
- **异步落子系统** - 玩家落子立即显示
- **智能重试机制** - 网络波动自动恢复
- **本地AI决策** - 毫秒级响应
- **前端React 18** - 现代化架构

---

## 🚀 快速开始

### 安装依赖
```bash
cd backend
pip install -r requirements.txt
```

### 启动服务器
```bash
python app.py
```

服务器将在 `http://localhost:5001` 启动。

### 打开浏览器
访问 `http://localhost:5001` 开始游戏！

---

## 📱 移动端访问

### 方法一：同一WiFi（推荐）

1. **查看电脑IP**：
   - macOS: 系统偏好设置 → 网络 → 查看IP（如 192.168.1.100）
   - Windows: 命令行输入 `ipconfig` 查看IPv4地址

2. **手机访问**：
   ```
   http://你的电脑IP:5001
   例如：http://192.168.1.100:5001
   ```

3. **注意**：如果无法访问，请确保：
   - ✅ 电脑和手机在同一WiFi
   - ✅ VPN/代理软件已关闭
   - ✅ 防火墙允许Python接收传入连接

### 方法二：使用ngrok（外网访问）

```bash
# 安装ngrok
brew install ngrok  # macOS

# 启动隧道
ngrok http 5001

# 手机访问ngrok提供的公网地址
```

---

## 🎮 游戏功能

### 基本操作
- **落子**: 点击棋盘交叉点
- **虚着**: 点击"虚着"按钮跳过
- **结束**: 双方连续虚着结束游戏

### 分析工具
- **📊 分析局势**: 查看双方优劣、领地、建议
- **📜 查看日志**: 记录每步棋的位置和提子情况

### AI难度

| 难度 | 适合人群 | 特点 |
|------|---------|------|
| 简单 | 初学者 | 基本规则 + 一定随机性 |
| 中等 | 有基础 | 战术评估 + 阶段策略 |
| 困难 | 高手 | 深度分析 + 综合决策 |

### API接口

```bash
# 创建游戏
POST /api/game/new
Body: {"difficulty": "medium", "size": 19, "ai_color": 2}

# 玩家落子
POST /api/game/{game_id}/move
Body: {"x": 9, "y": 9}

# AI落子
POST /api/game/{game_id}/ai-move

# 虚着
POST /api/game/{game_id}/pass

# 分析局势
POST /api/game/{game_id}/analyze

# 获取日志
GET /api/game/{game_id}/logs

# 获取分数
GET /api/game/{game_id}/score
```

---

## 🔧 技术栈

- **后端**: Python 3.12 + Flask 3.0
- **前端**: React 18 (CDN)
- **绘图**: HTML5 Canvas
- **AI**: 启发式算法
- **样式**: CSS3 + Font Awesome 6.5.1

---

## 📁 项目结构

```
go-teaching-game/
├── backend/
│   ├── app/
│   │   ├── go_board.py      # 围棋棋盘逻辑（工业级实现）
│   │   ├── go_ai.py         # AI引擎
│   │   ├── deepseek_ai.py   # DeepSeek AI接口（可选）
│   │   └── game_manager.py  # 游戏状态管理
│   ├── templates/
│   │   └── index.html       # HTML模板
│   ├── static/
│   │   ├── css/style.css    # 现代响应式样式
│   │   └── js/app.js        # React前端应用
│   ├── app.py               # Flask应用入口
│   └── requirements.txt     # Python依赖
└── README.md
```

---

## 🐛 已修复问题

- ✅ **提子Bug彻底修复** - 重写围棋引擎，精确计算棋组和气数
- ✅ **AI落子失败处理** - 添加自动重试机制
- ✅ **落子卡顿问题** - 改为异步落子系统
- ✅ **移动端适配** - 完善响应式布局

---

## 🎯 产品亮点

### 1. **精确的围棋规则**
采用工业级算法实现，确保：
- 棋组计算100%准确
- 气数计算精确无误
- 提子判断完全正确
- 所有边界情况都经过验证

### 2. **流畅的用户体验**
- 异步落子系统，零等待
- 智能错误恢复，自动重试
- 专业图标系统，视觉舒适
- 完美移动端支持

### 3. **强大的教学功能**
- AI每步详细解释
- 实时局势分析
- 完整对局日志
- 专业坐标系统

---

## 📈 未来规划

- [ ] 集成KataGo引擎（可选）
- [ ] 悔棋功能
- [ ] 棋谱保存/导入（SGF格式）
- [ ] 残局挑战模式
- [ ] 对局回放功能
- [ ] 多语言支持
- [ ] 在线对战功能

---

## 📄 许可证

MIT License

欢迎提交Issue和Pull Request！

---

## 🙏 致谢

感谢所有为围棋AI和教学做出贡献的开发者和研究者。

---

**Copyright © 2026 围棋教学游戏 Pro**
*Made with ❤️ by Claude & OpenAI*
